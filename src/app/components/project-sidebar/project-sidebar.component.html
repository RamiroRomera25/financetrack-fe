<div class="sidebar-overlay"
     [class.active]="sidebarService.expanded && sidebarService.mobile"
     (click)="toggleSidebar()">
</div>

<div class="sidebar-container" [class.sidebar-expanded]="sidebarService.isExpanded">
  <div class="sidebar-header">
    <div class="logo-container">
      <h2 *ngIf="sidebarService.expanded">FinanceTrack</h2>
    </div>
    <button mat-icon-button class="toggle-button" (click)="toggleSidebar()">
      <mat-icon>{{ sidebarService.expanded ? 'chevron_left' : 'chevron_right' }}</mat-icon>
    </button>
  </div>

  <mat-divider></mat-divider>

  <div class="sidebar-content">
    <div class="menu-items">
      @for (item of menuItems; track item.name) {
        <a
          class="menu-item"
          [routerLink]="item.route"
          routerLinkActive="active-link"
          [class.icon-only]="!sidebarService.expanded"
          (click)="onMenuItemClick()"
        >
          <mat-icon class="menu-icon">{{ item.icon }}</mat-icon>
          @if (sidebarService.expanded) {
            <span class="menu-text">{{ item.name }}</span>
          }
        </a>
      }
    </div>
  </div>

  <!-- Premium Upgrade Button -->
  <div class="sidebar-footer">
    <button
      mat-raised-button
      class="premium-button"
      [class.icon-only]="!sidebarService.expanded"
      (click)="upgradeToPremium()"
    >
      <mat-icon class="premium-icon">workspace_premium</mat-icon>
      @if (sidebarService.expanded) {
        <span class="premium-text">Mejorar a Premium</span>
      }
    </button>
  </div>
</div>
